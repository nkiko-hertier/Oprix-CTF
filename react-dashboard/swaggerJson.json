{
  "openapi": "3.0.0",
  "paths": {
    "/api/v1/auth/me": {
      "get": {
        "operationId": "AuthController_getCurrentUser",
        "parameters": [],
        "responses": {
          "200": {
            "description": "User profile returned successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get current user profile",
        "tags": [
          "auth"
        ]
      }
    },
    "/api/v1/auth/clerk": {
      "post": {
        "operationId": "AuthController_authenticateWithClerk",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Authentication successful"
          },
          "401": {
            "description": "Authentication failed"
          }
        },
        "summary": "Authenticate with Clerk",
        "tags": [
          "auth"
        ]
      }
    },
    "/api/v1/auth/webhook": {
      "post": {
        "operationId": "AuthController_handleWebhook",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Webhook processed successfully"
          },
          "400": {
            "description": "Invalid webhook"
          }
        },
        "summary": "Clerk webhook receiver",
        "tags": [
          "auth"
        ]
      }
    },
    "/api/v1/auth/health": {
      "get": {
        "operationId": "AuthController_healthCheck",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Service is healthy"
          }
        },
        "summary": "Auth service health check",
        "tags": [
          "auth"
        ]
      }
    },
    "/api/v1/users": {
      "post": {
        "operationId": "UsersController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "User created successfully"
          },
          "409": {
            "description": "User already exists"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new user (SuperAdmin only)",
        "tags": [
          "users"
        ]
      },
      "get": {
        "operationId": "UsersController_findAll",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "schema": {
              "default": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "schema": {
              "default": 20,
              "type": "number"
            }
          },
          {
            "name": "role",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "USER",
                "ADMIN",
                "SUPERADMIN"
              ]
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "isActive",
            "required": false,
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Users retrieved successfully"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all users (Admin only)",
        "tags": [
          "users"
        ]
      }
    },
    "/api/v1/users/me": {
      "get": {
        "operationId": "UsersController_getMyProfile",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Profile retrieved successfully"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get current user profile",
        "tags": [
          "users"
        ]
      },
      "patch": {
        "operationId": "UsersController_updateMyProfile",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProfileDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Profile updated successfully"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update current user profile",
        "tags": [
          "users"
        ]
      }
    },
    "/api/v1/users/me/stats": {
      "get": {
        "operationId": "UsersController_getMyStats",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Statistics retrieved successfully"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get current user statistics",
        "tags": [
          "users"
        ]
      }
    },
    "/api/v1/users/{id}": {
      "get": {
        "operationId": "UsersController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User retrieved successfully"
          },
          "404": {
            "description": "User not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get user by ID",
        "tags": [
          "users"
        ]
      },
      "put": {
        "operationId": "UsersController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User updated successfully"
          },
          "404": {
            "description": "User not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update user details (Admin only)",
        "tags": [
          "users"
        ]
      },
      "delete": {
        "operationId": "UsersController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User deactivated successfully"
          },
          "403": {
            "description": "Cannot delete SuperAdmin"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Deactivate user (Admin only)",
        "tags": [
          "users"
        ]
      }
    },
    "/api/v1/users/{id}/stats": {
      "get": {
        "operationId": "UsersController_getUserStats",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Statistics retrieved successfully"
          },
          "404": {
            "description": "User not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get user statistics by ID",
        "tags": [
          "users"
        ]
      }
    },
    "/api/v1/users/{id}/role": {
      "patch": {
        "operationId": "UsersController_updateRole",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserRoleDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Role updated successfully"
          },
          "403": {
            "description": "Cannot modify SuperAdmin role"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update user role (SuperAdmin only)",
        "tags": [
          "users"
        ]
      }
    },
    "/api/v1/competitions": {
      "post": {
        "operationId": "CompetitionsController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCompetitionDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Competition created successfully"
          },
          "400": {
            "description": "Invalid data or dates"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new competition (Admin only)",
        "tags": [
          "competitions"
        ]
      },
      "get": {
        "operationId": "CompetitionsController_findAll",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number",
            "schema": {
              "default": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Items per page",
            "schema": {
              "default": 20,
              "type": "number"
            }
          },
          {
            "name": "status",
            "required": false,
            "in": "query",
            "description": "Filter by status",
            "schema": {
              "type": "string",
              "enum": [
                "DRAFT",
                "REGISTRATION_OPEN",
                "ACTIVE",
                "PAUSED",
                "COMPLETED",
                "CANCELLED"
              ]
            }
          },
          {
            "name": "type",
            "required": false,
            "in": "query",
            "description": "Filter by type",
            "schema": {
              "type": "string",
              "enum": [
                "JEOPARDY",
                "ATTACK_DEFENSE",
                "KING_OF_THE_HILL",
                "MIXED"
              ]
            }
          },
          {
            "name": "isPublic",
            "required": false,
            "in": "query",
            "description": "Show only public competitions",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Search by name or description",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "myCompetitions",
            "required": false,
            "in": "query",
            "description": "Show only competitions user registered for",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Competitions retrieved successfully"
          }
        },
        "summary": "Get all competitions",
        "tags": [
          "competitions"
        ]
      }
    },
    "/api/v1/competitions/{id}": {
      "get": {
        "operationId": "CompetitionsController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Competition retrieved successfully"
          },
          "404": {
            "description": "Competition not found"
          }
        },
        "summary": "Get competition by ID",
        "tags": [
          "competitions"
        ]
      },
      "put": {
        "operationId": "CompetitionsController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCompetitionDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Competition updated successfully"
          },
          "403": {
            "description": "Not authorized to update this competition"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update competition (Admin/Owner only)",
        "tags": [
          "competitions"
        ]
      },
      "delete": {
        "operationId": "CompetitionsController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Competition deleted successfully"
          },
          "400": {
            "description": "Cannot delete active/completed competition"
          },
          "403": {
            "description": "Not authorized to delete this competition"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Delete competition (Admin/Owner only)",
        "tags": [
          "competitions"
        ]
      }
    },
    "/api/v1/competitions/{id}/status": {
      "patch": {
        "operationId": "CompetitionsController_updateStatus",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCompetitionStatusDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Status updated successfully"
          },
          "400": {
            "description": "Invalid status transition"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update competition status (Admin/Owner only)",
        "tags": [
          "competitions"
        ]
      }
    },
    "/api/v1/competitions/{id}/register": {
      "post": {
        "operationId": "CompetitionsController_register",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterCompetitionDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Registered successfully"
          },
          "400": {
            "description": "Competition is full or not open"
          },
          "409": {
            "description": "Already registered"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Register for a competition",
        "tags": [
          "competitions"
        ]
      },
      "delete": {
        "operationId": "CompetitionsController_unregister",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Unregistered successfully"
          },
          "400": {
            "description": "Cannot unregister from active/completed competition"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Unregister from a competition",
        "tags": [
          "competitions"
        ]
      }
    },
    "/api/v1/competitions/{competitionId}/challenges": {
      "post": {
        "operationId": "ChallengesController_create",
        "parameters": [
          {
            "name": "competitionId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateChallengeDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Challenge created successfully"
          },
          "400": {
            "description": "Invalid data or competition is active"
          },
          "403": {
            "description": "Only competition owner or admins can create challenges"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new challenge (Admin/Owner only)",
        "tags": [
          "challenges"
        ]
      },
      "get": {
        "operationId": "ChallengesController_findAll",
        "parameters": [
          {
            "name": "competitionId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "category",
            "required": false,
            "in": "query",
            "description": "Filter by category",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "difficulty",
            "required": false,
            "in": "query",
            "description": "Filter by difficulty",
            "schema": {
              "type": "string",
              "enum": [
                "BEGINNER",
                "EASY",
                "MEDIUM",
                "HARD",
                "EXPERT"
              ]
            }
          },
          {
            "name": "solved",
            "required": false,
            "in": "query",
            "description": "Show solved challenges only",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "unsolved",
            "required": false,
            "in": "query",
            "description": "Show unsolved challenges only",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Search in title and description",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Challenges retrieved successfully"
          },
          "403": {
            "description": "Must be registered for this competition"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get challenges in competition (registered users only)",
        "tags": [
          "challenges"
        ]
      }
    },
    "/api/v1/competitions/{competitionId}/challenges/{challengeId}": {
      "get": {
        "operationId": "ChallengesController_findOne",
        "parameters": [
          {
            "name": "competitionId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "challengeId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Challenge retrieved successfully"
          },
          "403": {
            "description": "Challenge not visible or not registered"
          },
          "404": {
            "description": "Challenge not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get challenge details",
        "tags": [
          "challenges"
        ]
      },
      "put": {
        "operationId": "ChallengesController_update",
        "parameters": [
          {
            "name": "competitionId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "challengeId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateChallengeDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Challenge updated successfully"
          },
          "400": {
            "description": "Cannot edit challenges in active competition"
          },
          "403": {
            "description": "Only competition owner or admins can update challenges"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update challenge (Admin/Owner only)",
        "tags": [
          "challenges"
        ]
      },
      "delete": {
        "operationId": "ChallengesController_remove",
        "parameters": [
          {
            "name": "competitionId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "challengeId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Challenge deleted successfully"
          },
          "400": {
            "description": "Cannot delete challenges from active competition"
          },
          "403": {
            "description": "Only competition owner or admins can delete challenges"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Delete challenge (Admin/Owner only)",
        "tags": [
          "challenges"
        ]
      }
    },
    "/api/v1/competitions/{competitionId}/challenges/{challengeId}/hints": {
      "post": {
        "operationId": "ChallengesController_createHint",
        "parameters": [
          {
            "name": "competitionId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "challengeId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateHintDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Hint created successfully"
          },
          "403": {
            "description": "Only competition owner or admins can create hints"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create hint for challenge (Admin/Owner only)",
        "tags": [
          "challenges"
        ]
      }
    },
    "/api/v1/competitions/{competitionId}/challenges/{challengeId}/hints/{hintId}/unlock": {
      "post": {
        "operationId": "ChallengesController_unlockHint",
        "parameters": [
          {
            "name": "competitionId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "challengeId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "hintId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Hint unlocked successfully"
          },
          "400": {
            "description": "Insufficient points or hint already unlocked"
          },
          "403": {
            "description": "Must be registered for this competition"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Unlock hint (costs points)",
        "tags": [
          "challenges"
        ]
      }
    },
    "/api/v1/submissions": {
      "post": {
        "operationId": "SubmissionsController_submit",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSubmissionDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Flag submitted successfully"
          },
          "400": {
            "description": "Rate limit exceeded, timeout, or invalid submission"
          },
          "403": {
            "description": "Not registered for competition or challenge not visible"
          },
          "409": {
            "description": "Challenge already solved"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Submit flag (Rate limited: 5/min, timeout after 3 fails)",
        "tags": [
          "submissions"
        ]
      }
    },
    "/api/v1/submissions/my": {
      "get": {
        "operationId": "SubmissionsController_findMy",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number",
            "schema": {
              "default": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Items per page",
            "schema": {
              "default": 20,
              "type": "number"
            }
          },
          {
            "name": "challengeId",
            "required": false,
            "in": "query",
            "description": "Filter by challenge",
            "schema": {
              "example": "challenge-uuid",
              "type": "string"
            }
          },
          {
            "name": "competitionId",
            "required": false,
            "in": "query",
            "description": "Filter by competition",
            "schema": {
              "example": "competition-uuid",
              "type": "string"
            }
          },
          {
            "name": "correctOnly",
            "required": false,
            "in": "query",
            "description": "Show only correct submissions",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "incorrectOnly",
            "required": false,
            "in": "query",
            "description": "Show only incorrect submissions",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Submissions retrieved successfully"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get my submissions (paginated)",
        "tags": [
          "submissions"
        ]
      }
    },
    "/api/v1/submissions/admin": {
      "get": {
        "operationId": "SubmissionsController_findAllAdmin",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number",
            "schema": {
              "default": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Items per page",
            "schema": {
              "default": 20,
              "type": "number"
            }
          },
          {
            "name": "challengeId",
            "required": false,
            "in": "query",
            "description": "Filter by challenge",
            "schema": {
              "example": "challenge-uuid",
              "type": "string"
            }
          },
          {
            "name": "competitionId",
            "required": false,
            "in": "query",
            "description": "Filter by competition",
            "schema": {
              "example": "competition-uuid",
              "type": "string"
            }
          },
          {
            "name": "correctOnly",
            "required": false,
            "in": "query",
            "description": "Show only correct submissions",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "incorrectOnly",
            "required": false,
            "in": "query",
            "description": "Show only incorrect submissions",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "userId",
            "required": false,
            "in": "query",
            "description": "Filter by user",
            "schema": {
              "example": "user-uuid",
              "type": "string"
            }
          },
          {
            "name": "teamId",
            "required": false,
            "in": "query",
            "description": "Filter by team",
            "schema": {
              "example": "team-uuid",
              "type": "string"
            }
          },
          {
            "name": "includeFlags",
            "required": false,
            "in": "query",
            "description": "Include flag content in response (admin only)",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "All submissions retrieved successfully"
          },
          "403": {
            "description": "Admin access required"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all submissions (Admin only)",
        "tags": [
          "submissions"
        ]
      }
    },
    "/api/v1/submissions/{id}": {
      "get": {
        "operationId": "SubmissionsController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Submission retrieved successfully"
          },
          "403": {
            "description": "Access denied"
          },
          "404": {
            "description": "Submission not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get submission details",
        "tags": [
          "submissions"
        ]
      }
    },
    "/api/v1/submissions/challenge/{challengeId}": {
      "get": {
        "operationId": "SubmissionsController_findByChallenge",
        "parameters": [
          {
            "name": "challengeId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Challenge submissions retrieved successfully"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get my submissions for a specific challenge",
        "tags": [
          "submissions"
        ]
      }
    },
    "/api/v1/submissions/competition/{competitionId}": {
      "get": {
        "operationId": "SubmissionsController_findByCompetition",
        "parameters": [
          {
            "name": "competitionId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Competition submissions retrieved successfully"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get my submissions for a specific competition",
        "tags": [
          "submissions"
        ]
      }
    },
    "/api/v1/leaderboard/competition/{competitionId}": {
      "get": {
        "operationId": "LeaderboardController_getCompetitionLeaderboard",
        "parameters": [
          {
            "name": "competitionId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Number of entries to return",
            "schema": {
              "example": 50,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Competition leaderboard retrieved successfully"
          },
          "404": {
            "description": "Competition not found"
          }
        },
        "summary": "Get competition leaderboard (individual rankings)",
        "tags": [
          "leaderboard"
        ]
      }
    },
    "/api/v1/leaderboard/competition/{competitionId}/team": {
      "get": {
        "operationId": "LeaderboardController_getTeamLeaderboard",
        "parameters": [
          {
            "name": "competitionId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Number of teams to return",
            "schema": {
              "example": 50,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Team leaderboard retrieved successfully"
          },
          "400": {
            "description": "Competition is not in team mode"
          },
          "404": {
            "description": "Competition not found"
          }
        },
        "summary": "Get team leaderboard for competition",
        "tags": [
          "leaderboard"
        ]
      }
    },
    "/api/v1/leaderboard/global": {
      "get": {
        "operationId": "LeaderboardController_getGlobalLeaderboard",
        "parameters": [
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Number of entries to return",
            "schema": {
              "example": 100,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Global leaderboard retrieved successfully"
          }
        },
        "summary": "Get global leaderboard (all-time across all competitions)",
        "tags": [
          "leaderboard"
        ]
      }
    },
    "/api/v1/leaderboard/user/{userId}/competition/{competitionId}": {
      "get": {
        "operationId": "LeaderboardController_getUserRank",
        "parameters": [
          {
            "name": "competitionId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User rank retrieved successfully"
          },
          "404": {
            "description": "User or competition not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get user rank and position in competition",
        "tags": [
          "leaderboard"
        ]
      }
    },
    "/api/v1/leaderboard/my/competition/{competitionId}": {
      "get": {
        "operationId": "LeaderboardController_getMyRank",
        "parameters": [
          {
            "name": "competitionId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User rank retrieved successfully"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get my rank and position in competition",
        "tags": [
          "leaderboard"
        ]
      }
    },
    "/api/v1/leaderboard/team/{teamId}/competition/{competitionId}": {
      "get": {
        "operationId": "LeaderboardController_getTeamRank",
        "parameters": [
          {
            "name": "competitionId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "teamId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Team rank retrieved successfully"
          },
          "404": {
            "description": "Team or competition not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get team rank and position in competition",
        "tags": [
          "leaderboard"
        ]
      }
    },
    "/api/v1/leaderboard/live/{competitionId}": {
      "get": {
        "operationId": "LeaderboardController_getLiveLeaderboard",
        "parameters": [
          {
            "name": "competitionId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Live leaderboard data retrieved successfully"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get live leaderboard updates (for WebSocket/real-time)",
        "tags": [
          "leaderboard"
        ]
      }
    },
    "/api/v1/teams": {
      "post": {
        "operationId": "TeamsController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTeamDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Team created successfully"
          },
          "409": {
            "description": "User already in a team"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create team (generates invite code)",
        "tags": [
          "teams"
        ]
      },
      "get": {
        "operationId": "TeamsController_findAll",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number",
            "schema": {
              "default": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Items per page",
            "schema": {
              "default": 20,
              "type": "number"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Search team names",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "competitionId",
            "required": false,
            "in": "query",
            "description": "Filter by competition ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "availableOnly",
            "required": false,
            "in": "query",
            "description": "Show only teams with available slots",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Teams retrieved successfully"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "List all teams (paginated, filterable)",
        "tags": [
          "teams"
        ]
      }
    },
    "/api/v1/teams/join": {
      "post": {
        "operationId": "TeamsController_joinTeam",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/JoinTeamDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successfully joined team"
          },
          "400": {
            "description": "Cannot join during active competition"
          },
          "404": {
            "description": "Invalid invite code"
          },
          "409": {
            "description": "Already in a team or team is full"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Join team with invite code",
        "tags": [
          "teams"
        ]
      }
    },
    "/api/v1/teams/{id}": {
      "get": {
        "operationId": "TeamsController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Team details retrieved successfully"
          },
          "404": {
            "description": "Team not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get team details",
        "tags": [
          "teams"
        ]
      },
      "put": {
        "operationId": "TeamsController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTeamDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Team updated successfully"
          },
          "400": {
            "description": "Cannot edit during active competition"
          },
          "403": {
            "description": "Only team captain can update"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update team (captain only)",
        "tags": [
          "teams"
        ]
      },
      "delete": {
        "operationId": "TeamsController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Team deleted successfully"
          },
          "400": {
            "description": "Cannot delete team with active competitions"
          },
          "403": {
            "description": "Only team captain can delete"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Delete team (captain only, before competition starts)",
        "tags": [
          "teams"
        ]
      }
    },
    "/api/v1/teams/{id}/leave": {
      "post": {
        "operationId": "TeamsController_leaveTeam",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully left team"
          },
          "400": {
            "description": "Captain cannot leave or active competition"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Leave team (not during active competition)",
        "tags": [
          "teams"
        ]
      }
    },
    "/api/v1/teams/{id}/kick": {
      "post": {
        "operationId": "TeamsController_kickMember",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/KickTeamMemberDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Member kicked successfully"
          },
          "400": {
            "description": "Cannot kick during active competition"
          },
          "403": {
            "description": "Only team captain can kick members"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Kick member (captain only, not during active competition)",
        "tags": [
          "teams"
        ]
      }
    },
    "/api/v1/teams/{id}/transfer-captaincy": {
      "post": {
        "operationId": "TeamsController_transferCaptaincy",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TransferCaptaincyDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Captaincy transferred successfully"
          },
          "400": {
            "description": "New captain must be a team member"
          },
          "403": {
            "description": "Only current captain can transfer"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Transfer captaincy to another member (captain only)",
        "tags": [
          "teams"
        ]
      }
    },
    "/api/v1/teams/{id}/stats": {
      "get": {
        "operationId": "TeamsController_getStats",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Team statistics retrieved successfully"
          },
          "404": {
            "description": "Team not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get team statistics",
        "tags": [
          "teams"
        ]
      }
    },
    "/api/v1/files/upload": {
      "post": {
        "operationId": "FilesController_uploadFile",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  },
                  "challengeId": {
                    "type": "string",
                    "description": "Challenge ID to attach file to"
                  },
                  "description": {
                    "type": "string",
                    "description": "File description"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "File uploaded successfully"
          },
          "400": {
            "description": "Invalid file or file too large"
          },
          "403": {
            "description": "Only competition admin can upload files"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Upload file for challenge (Admin only)",
        "tags": [
          "files"
        ]
      }
    },
    "/api/v1/files": {
      "get": {
        "operationId": "FilesController_findAll",
        "parameters": [
          {
            "name": "challengeId",
            "required": false,
            "in": "query",
            "description": "Filter by challenge ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "fileType",
            "required": false,
            "in": "query",
            "description": "Filter by file type",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number",
            "schema": {
              "default": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Items per page",
            "schema": {
              "default": 20,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Files retrieved successfully"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all accessible files (paginated)",
        "tags": [
          "files"
        ]
      }
    },
    "/api/v1/files/challenge/{challengeId}": {
      "get": {
        "operationId": "FilesController_getChallengeFiles",
        "parameters": [
          {
            "name": "challengeId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Challenge files retrieved successfully"
          },
          "403": {
            "description": "Access denied"
          },
          "404": {
            "description": "Challenge not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get files for specific challenge",
        "tags": [
          "files"
        ]
      }
    },
    "/api/v1/files/download/{fileName}": {
      "get": {
        "operationId": "FilesController_downloadFile",
        "parameters": [
          {
            "name": "fileName",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "File downloaded successfully"
          },
          "403": {
            "description": "Access denied"
          },
          "404": {
            "description": "File not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Download file by filename",
        "tags": [
          "files"
        ]
      }
    },
    "/api/v1/files/{id}": {
      "get": {
        "operationId": "FilesController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "File details retrieved successfully"
          },
          "403": {
            "description": "Access denied"
          },
          "404": {
            "description": "File not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get file details by ID",
        "tags": [
          "files"
        ]
      },
      "delete": {
        "operationId": "FilesController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "File deleted successfully"
          },
          "400": {
            "description": "Cannot delete files during active competition"
          },
          "403": {
            "description": "Only competition admin can delete files"
          },
          "404": {
            "description": "File not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Delete file (Admin only)",
        "tags": [
          "files"
        ]
      }
    },
    "/api/v1/admin/dashboard": {
      "get": {
        "operationId": "AdminController_getDashboard",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Dashboard data retrieved"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get admin dashboard overview",
        "tags": [
          "admin"
        ]
      }
    },
    "/api/v1/admin/players": {
      "get": {
        "operationId": "AdminController_getMyPlayers",
        "parameters": [
          {
            "name": "competitionId",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of players"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get players registered in admin's competitions",
        "tags": [
          "admin"
        ]
      }
    },
    "/api/v1/admin/players/{userId}/ban": {
      "patch": {
        "operationId": "AdminController_togglePlayerBan",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "competitionId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Player ban status toggled"
          },
          "404": {
            "description": "Player or competition not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Ban or unban player from competition",
        "tags": [
          "admin"
        ]
      }
    },
    "/api/v1/admin/submissions": {
      "get": {
        "operationId": "AdminController_getMySubmissions",
        "parameters": [
          {
            "name": "competitionId",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of submissions"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get submissions for admin's competitions",
        "tags": [
          "admin"
        ]
      }
    },
    "/api/v1/admin/competitions/{id}/stats": {
      "get": {
        "operationId": "AdminController_getCompetitionStats",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Competition statistics"
          },
          "404": {
            "description": "Competition not found or access denied"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get statistics for admin's competition",
        "tags": [
          "admin"
        ]
      }
    },
    "/api/v1/superadmin/admins": {
      "post": {
        "operationId": "SuperadminController_createAdmin",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Admin account created successfully"
          },
          "403": {
            "description": "Forbidden - SuperAdmin role required"
          },
          "409": {
            "description": "Username or email already exists"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create new Admin account (SuperAdmin only)",
        "tags": [
          "superadmin"
        ]
      },
      "get": {
        "operationId": "SuperadminController_getAllAdmins",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of all admins"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get all Admin accounts",
        "tags": [
          "superadmin"
        ]
      }
    },
    "/api/v1/superadmin/admins/{id}": {
      "get": {
        "operationId": "SuperadminController_getAdminActivity",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Admin activity details"
          },
          "404": {
            "description": "Admin not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get admin activity report",
        "tags": [
          "superadmin"
        ]
      },
      "delete": {
        "operationId": "SuperadminController_deleteAdmin",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Admin deleted successfully"
          },
          "403": {
            "description": "Cannot delete admin with active competitions"
          },
          "404": {
            "description": "Admin not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Delete Admin account",
        "tags": [
          "superadmin"
        ]
      }
    },
    "/api/v1/superadmin/admins/{id}/toggle-status": {
      "patch": {
        "operationId": "SuperadminController_toggleAdminStatus",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Admin status toggled"
          },
          "404": {
            "description": "Admin not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Suspend or activate Admin account",
        "tags": [
          "superadmin"
        ]
      }
    },
    "/api/v1/superadmin/stats": {
      "get": {
        "operationId": "SuperadminController_getPlatformStats",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Platform statistics"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get platform-wide statistics",
        "tags": [
          "superadmin"
        ]
      }
    },
    "/api/v1/superadmin/audit-logs": {
      "get": {
        "operationId": "SuperadminController_getAuditLogs",
        "parameters": [
          {
            "name": "userId",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "action",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Audit logs retrieved"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get system audit logs",
        "tags": [
          "superadmin"
        ]
      }
    },
    "/api/v1/superadmin/profile": {
      "get": {
        "operationId": "SuperadminController_getMyProfile",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Profile retrieved"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get SuperAdmin profile",
        "tags": [
          "superadmin"
        ]
      },
      "patch": {
        "operationId": "SuperadminController_updateMyProfile",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Profile updated successfully"
          },
          "403": {
            "description": "Current password is incorrect"
          },
          "409": {
            "description": "Email or username already taken"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update SuperAdmin profile (for production handover)",
        "tags": [
          "superadmin"
        ]
      }
    },
    "/api/v1/health": {
      "get": {
        "operationId": "HealthController_getHealth",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Service is healthy"
          }
        },
        "summary": "Basic health check",
        "tags": [
          "monitoring"
        ]
      }
    },
    "/api/v1/health/detailed": {
      "get": {
        "operationId": "HealthController_getDetailedHealth",
        "parameters": [],
        "responses": {
          "200": {
            "description": "All systems operational"
          },
          "503": {
            "description": "Service unavailable"
          }
        },
        "summary": "Detailed health check with dependencies",
        "tags": [
          "monitoring"
        ]
      }
    },
    "/api/v1/health/ready": {
      "get": {
        "operationId": "HealthController_getReadiness",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Service is ready"
          },
          "500": {
            "description": "Service not ready"
          }
        },
        "summary": "Readiness probe",
        "tags": [
          "monitoring"
        ]
      }
    },
    "/api/v1/health/live": {
      "get": {
        "operationId": "HealthController_getLiveness",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Service is alive"
          }
        },
        "summary": "Liveness probe",
        "tags": [
          "monitoring"
        ]
      }
    }
  },
  "info": {
    "title": "CTF Platform API",
    "description": "APIs for CTF (Capture The Flag) competition management platform. Handles authentication, competitions, challenges, submissions, and real-time leaderboards.",
    "version": "1.1.0",
    "contact": {

    }
  },
  "tags": [
    {
      "name": "auth",
      "description": "Authentication and authorization"
    },
    {
      "name": "users",
      "description": "User management"
    },
    {
      "name": "competitions",
      "description": "Competition management"
    },
    {
      "name": "challenges",
      "description": "Challenge management"
    },
    {
      "name": "submissions",
      "description": "Flag submissions"
    },
    {
      "name": "leaderboard",
      "description": "Leaderboard and scoring"
    },
    {
      "name": "teams",
      "description": "Team management"
    },
    {
      "name": "files",
      "description": "File uploads and downloads"
    },
    {
      "name": "admin",
      "description": "Admin operations (CTF organizers)"
    },
    {
      "name": "superadmin",
      "description": "SuperAdmin operations (platform owners)"
    },
    {
      "name": "monitoring",
      "description": "Health checks and monitoring"
    }
  ],
  "servers": [],
  "components": {
    "securitySchemes": {
      "JWT-auth": {
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "type": "http",
        "name": "JWT",
        "description": "Enter JWT token from Clerk",
        "in": "header"
      }
    },
    "schemas": {
      "CreateUserDto": {
        "type": "object",
        "properties": {
          "clerkId": {
            "type": "string",
            "example": "user_2abc123xyz",
            "description": "Clerk user ID"
          },
          "username": {
            "type": "string",
            "example": "johndoe",
            "description": "Username"
          },
          "email": {
            "type": "string",
            "example": "john@example.com",
            "description": "Email address"
          },
          "role": {
            "type": "string",
            "enum": [
              "USER",
              "ADMIN",
              "SUPERADMIN"
            ],
            "default": "USER"
          }
        },
        "required": [
          "clerkId",
          "username",
          "email",
          "role"
        ]
      },
      "UpdateProfileDto": {
        "type": "object",
        "properties": {
          "firstName": {
            "type": "string",
            "example": "John"
          },
          "lastName": {
            "type": "string",
            "example": "Doe"
          },
          "bio": {
            "type": "string",
            "example": "Cybersecurity enthusiast"
          },
          "avatarUrl": {
            "type": "string",
            "example": "https://example.com/avatar.jpg"
          },
          "country": {
            "type": "string",
            "example": "USA"
          },
          "website": {
            "type": "string",
            "example": "https://example.com"
          },
          "github": {
            "type": "string",
            "example": "johndoe"
          },
          "linkedin": {
            "type": "string",
            "example": "johndoe"
          },
          "skills": {
            "example": [
              "Web Security",
              "Cryptography"
            ],
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "UpdateUserDto": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string",
            "example": "johndoe2"
          },
          "role": {
            "type": "string",
            "enum": [
              "USER",
              "ADMIN",
              "SUPERADMIN"
            ]
          },
          "isActive": {
            "type": "boolean",
            "example": true
          }
        }
      },
      "UpdateUserRoleDto": {
        "type": "object",
        "properties": {
          "role": {
            "type": "string",
            "enum": [
              "USER",
              "ADMIN",
              "SUPERADMIN"
            ]
          }
        },
        "required": [
          "role"
        ]
      },
      "CreateCompetitionDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "example": "Summer CTF 2025",
            "description": "Competition name"
          },
          "description": {
            "type": "string",
            "example": "An exciting CTF competition for summer",
            "description": "Competition description"
          },
          "startTime": {
            "type": "string",
            "example": "2025-07-01T00:00:00Z",
            "description": "Start date and time"
          },
          "endTime": {
            "type": "string",
            "example": "2025-07-03T23:59:59Z",
            "description": "End date and time"
          },
          "type": {
            "type": "string",
            "enum": [
              "JEOPARDY",
              "ATTACK_DEFENSE",
              "KING_OF_THE_HILL",
              "MIXED"
            ],
            "example": "JEOPARDY",
            "description": "Competition type"
          },
          "isTeamBased": {
            "type": "boolean",
            "example": false,
            "description": "Is this a team-based competition?"
          },
          "maxTeamSize": {
            "type": "number",
            "example": 4,
            "description": "Maximum team size"
          },
          "maxParticipants": {
            "type": "number",
            "example": 100,
            "description": "Maximum participants"
          },
          "requireApproval": {
            "type": "boolean",
            "example": false,
            "description": "Require approval to register?"
          },
          "isPublic": {
            "type": "boolean",
            "example": true,
            "description": "Is competition visible?"
          },
          "allowedCategories": {
            "example": [
              "WEB",
              "CRYPTO",
              "PWN"
            ],
            "description": "Challenge categories",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "metadata": {
            "type": "object",
            "example": {
              "difficulty": "beginner",
              "prizes": "Top 3 winners get prizes"
            },
            "description": "Additional metadata"
          }
        },
        "required": [
          "name",
          "description",
          "startTime",
          "endTime",
          "type"
        ]
      },
      "UpdateCompetitionDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "example": "Summer CTF 2025",
            "description": "Competition name"
          },
          "description": {
            "type": "string",
            "example": "An exciting CTF competition for summer",
            "description": "Competition description"
          },
          "startTime": {
            "type": "string",
            "example": "2025-07-01T00:00:00Z",
            "description": "Start date and time"
          },
          "endTime": {
            "type": "string",
            "example": "2025-07-03T23:59:59Z",
            "description": "End date and time"
          },
          "type": {
            "type": "string",
            "enum": [
              "JEOPARDY",
              "ATTACK_DEFENSE",
              "KING_OF_THE_HILL",
              "MIXED"
            ],
            "example": "JEOPARDY",
            "description": "Competition type"
          },
          "isTeamBased": {
            "type": "boolean",
            "example": false,
            "description": "Is this a team-based competition?"
          },
          "maxTeamSize": {
            "type": "number",
            "example": 4,
            "description": "Maximum team size"
          },
          "maxParticipants": {
            "type": "number",
            "example": 100,
            "description": "Maximum participants"
          },
          "requireApproval": {
            "type": "boolean",
            "example": false,
            "description": "Require approval to register?"
          },
          "isPublic": {
            "type": "boolean",
            "example": true,
            "description": "Is competition visible?"
          },
          "allowedCategories": {
            "example": [
              "WEB",
              "CRYPTO",
              "PWN"
            ],
            "description": "Challenge categories",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "metadata": {
            "type": "object",
            "example": {
              "difficulty": "beginner",
              "prizes": "Top 3 winners get prizes"
            },
            "description": "Additional metadata"
          }
        }
      },
      "UpdateCompetitionStatusDto": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "DRAFT",
              "REGISTRATION_OPEN",
              "ACTIVE",
              "PAUSED",
              "COMPLETED",
              "CANCELLED"
            ],
            "example": "ACTIVE"
          }
        },
        "required": [
          "status"
        ]
      },
      "RegisterCompetitionDto": {
        "type": "object",
        "properties": {
          "teamId": {
            "type": "string",
            "example": "team-uuid",
            "description": "Team ID (if team-based)"
          }
        }
      },
      "CreateChallengeDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "example": "SQL Injection Basics",
            "description": "Challenge title"
          },
          "description": {
            "type": "string",
            "example": "Find the flag by exploiting SQL injection vulnerability",
            "description": "Challenge description"
          },
          "category": {
            "type": "string",
            "example": "WEB",
            "description": "Challenge category"
          },
          "difficulty": {
            "type": "string",
            "enum": [
              "TRIVIAL",
              "EASY",
              "MEDIUM",
              "HARD",
              "INSANE"
            ],
            "example": "MEDIUM",
            "description": "Challenge difficulty"
          },
          "points": {
            "type": "number",
            "example": 100,
            "description": "Points awarded for solving"
          },
          "flag": {
            "type": "string",
            "example": "flag{sql_1nj3ct10n_m4st3r}",
            "description": "The flag to submit"
          },
          "caseSensitive": {
            "type": "boolean",
            "example": false,
            "description": "Whether flag comparison should be case sensitive"
          },
          "normalizeFlag": {
            "type": "boolean",
            "example": true,
            "description": "Whether to normalize whitespace in flag comparison"
          },
          "isVisible": {
            "type": "boolean",
            "example": true,
            "description": "Is challenge visible to participants?"
          },
          "isDynamic": {
            "type": "boolean",
            "example": false,
            "description": "Is challenge dynamic (instances per user)?"
          },
          "url": {
            "type": "string",
            "example": "http://challenge.ctf.com:8080",
            "description": "Challenge URL/endpoint"
          },
          "metadata": {
            "type": "object",
            "example": {
              "author": "John Doe",
              "source": "DefCon 2023",
              "docker_image": "myctf/sqli:latest"
            },
            "description": "Additional challenge metadata"
          },
          "hints": {
            "example": [
              "Look for common SQL injection patterns",
              "Try UNION SELECT statements"
            ],
            "description": "Hints for the challenge",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "title",
          "description",
          "category",
          "difficulty",
          "points",
          "flag"
        ]
      },
      "UpdateChallengeDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "example": "SQL Injection Basics",
            "description": "Challenge title"
          },
          "description": {
            "type": "string",
            "example": "Find the flag by exploiting SQL injection vulnerability",
            "description": "Challenge description"
          },
          "category": {
            "type": "string",
            "example": "WEB",
            "description": "Challenge category"
          },
          "difficulty": {
            "type": "string",
            "enum": [
              "TRIVIAL",
              "EASY",
              "MEDIUM",
              "HARD",
              "INSANE"
            ],
            "example": "MEDIUM",
            "description": "Challenge difficulty"
          },
          "points": {
            "type": "number",
            "example": 100,
            "description": "Points awarded for solving"
          },
          "flag": {
            "type": "string",
            "example": "flag{sql_1nj3ct10n_m4st3r}",
            "description": "The flag to submit"
          },
          "caseSensitive": {
            "type": "boolean",
            "example": false,
            "description": "Whether flag comparison should be case sensitive"
          },
          "normalizeFlag": {
            "type": "boolean",
            "example": true,
            "description": "Whether to normalize whitespace in flag comparison"
          },
          "isVisible": {
            "type": "boolean",
            "example": true,
            "description": "Is challenge visible to participants?"
          },
          "isDynamic": {
            "type": "boolean",
            "example": false,
            "description": "Is challenge dynamic (instances per user)?"
          },
          "url": {
            "type": "string",
            "example": "http://challenge.ctf.com:8080",
            "description": "Challenge URL/endpoint"
          },
          "metadata": {
            "type": "object",
            "example": {
              "author": "John Doe",
              "source": "DefCon 2023",
              "docker_image": "myctf/sqli:latest"
            },
            "description": "Additional challenge metadata"
          },
          "hints": {
            "example": [
              "Look for common SQL injection patterns",
              "Try UNION SELECT statements"
            ],
            "description": "Hints for the challenge",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "CreateHintDto": {
        "type": "object",
        "properties": {
          "content": {
            "type": "string",
            "example": "Look at the HTTP headers",
            "description": "Hint content"
          },
          "cost": {
            "type": "number",
            "example": 10,
            "description": "Points cost to unlock hint"
          },
          "order": {
            "type": "number",
            "example": 1,
            "description": "Hint order/sequence"
          }
        },
        "required": [
          "content",
          "cost",
          "order"
        ]
      },
      "CreateSubmissionDto": {
        "type": "object",
        "properties": {
          "challengeId": {
            "type": "string",
            "example": "challenge-uuid",
            "description": "Challenge ID"
          },
          "flag": {
            "type": "string",
            "example": "flag{th1s_1s_th3_fl4g}",
            "description": "Flag to submit"
          },
          "teamId": {
            "type": "string",
            "example": "team-uuid",
            "description": "Team ID (for team competitions)"
          }
        },
        "required": [
          "challengeId",
          "flag"
        ]
      },
      "CreateTeamDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "example": "Cyber Ninjas",
            "description": "Team name"
          },
          "description": {
            "type": "string",
            "example": "Elite cybersecurity team specializing in web exploitation",
            "description": "Team description"
          },
          "maxSize": {
            "type": "number",
            "example": 4,
            "description": "Maximum team size",
            "default": 4
          },
          "competitionId": {
            "type": "string",
            "example": "comp-uuid-123",
            "description": "Competition ID that the team will participate in"
          }
        },
        "required": [
          "name",
          "competitionId"
        ]
      },
      "JoinTeamDto": {
        "type": "object",
        "properties": {
          "inviteCode": {
            "type": "string",
            "example": "ABC123XYZ",
            "description": "Team invitation code"
          }
        },
        "required": [
          "inviteCode"
        ]
      },
      "UpdateTeamDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "example": "Cyber Ninjas",
            "description": "Team name"
          },
          "description": {
            "type": "string",
            "example": "Elite cybersecurity team specializing in web exploitation",
            "description": "Team description"
          },
          "maxSize": {
            "type": "number",
            "example": 4,
            "description": "Maximum team size",
            "default": 4
          },
          "competitionId": {
            "type": "string",
            "example": "comp-uuid-123",
            "description": "Competition ID that the team will participate in"
          }
        }
      },
      "KickTeamMemberDto": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string",
            "example": "user-uuid",
            "description": "User ID to kick from team"
          },
          "reason": {
            "type": "string",
            "example": "Inactive member",
            "description": "Reason for kicking"
          }
        },
        "required": [
          "userId"
        ]
      },
      "TransferCaptaincyDto": {
        "type": "object",
        "properties": {
          "newCaptainId": {
            "type": "string",
            "example": "user-uuid",
            "description": "New captain user ID"
          }
        },
        "required": [
          "newCaptainId"
        ]
      }
    }
  }
}